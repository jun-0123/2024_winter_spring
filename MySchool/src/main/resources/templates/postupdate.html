<!DOCTYPE html>
<html 
	xmlns:th="http://www.thymeleaf.org" 
	th:replace="~{layout::layout(~{::title},~{},~{::#content},~{})}">
<head th:replace="~{head::head(~{::title})}">
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<div id="content">

    <h3>수정</h3>
    <form id="updateForm" th:action="@{{id}(id=${post.postId})}" method="post">
        <p>제목: <input type="text" name="title" th:value="${post.title}"><br>
        <p>내용: <textarea cols="30" rows="5" name="content" th:text="${post.content}"></textarea><br>
        <p>비밀번호: <input type="password" name="password" id="password"><br>
        <input type="button" onclick="pwCheck()" value="수정">
    </form>
<script>
    var storedPassword = [[${post.password}]];
    console.log('Stored Password:', storedPassword);
	
    function pwCheck() {
        var enteredPassword = document.getElementById('password').value;
        console.log('entered Password:', enteredPassword);
        if (enteredPassword == storedPassword) {
            document.getElementById('updateForm').submit();
        } else {
            alert('비밀번호 틀림');
        }
    }
</script>
</div>
</body>
</html>